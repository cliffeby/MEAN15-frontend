<div class="member-selection-dialog">
  <h2 mat-dialog-title>Select Members for Lineup</h2>
  
  <mat-dialog-content class="dialog-content">
    <div class="search-section">
      <mat-form-field appearance="outline" class="search-field">
        <mat-label>Search members</mat-label>
        <input matInput [(ngModel)]="searchTerm" placeholder="Type to filter members..." (input)="filterMembers()">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
    </div>

    <div class="members-list" *ngIf="filteredMembers.length > 0; else noMembers">
      <div class="member-list">
        <div 
          *ngFor="let member of filteredMembers" 
          class="member-option"
          [class.selected]="isSelected(member._id)"
          (click)="toggleMember(member._id)">
          <div class="checkbox-container">
            <mat-checkbox 
              [checked]="isSelected(member._id)"
              (change)="toggleMember(member._id)"
              (click)="$event.stopPropagation()">
            </mat-checkbox>
          </div>
          <div class="member-info">
            <div class="member-name">
              {{ member.firstName }} {{ member.lastName || '' }}
              <span class="lineup-indicator" *ngIf="isInOriginalLineup(member._id)">• Currently in lineup</span>
            </div>
            <div class="member-details" *ngIf="true">
              <span class="tee" *ngIf="getTeeForMember(member) as tee; else noTee">Tee: {{ tee }}</span>
              <ng-template #noTee><span class="tee-missing">Tee: (none found)</span></ng-template>
              <span class="index" *ngIf="member.usgaIndex"> • Index: {{ member.usgaIndex | number:'1.1-1' }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <ng-template #noMembers>
      <div class="no-members">
        <mat-icon>person_search</mat-icon>
        <p>{{ searchTerm ? 'No members found matching your search' : 'No members available' }}</p>
      </div>
    </ng-template>
  </mat-dialog-content>

  <mat-dialog-actions class="dialog-actions">
    <div class="selection-summary">
      <span class="selected-count">{{ selectedMemberIds.length }} of {{ allMembers.length }} members selected</span>
    </div>
    <div class="action-buttons">
      <button mat-button (click)="selectAll()" [disabled]="allMembers.length === 0">
        Select All
      </button>
      <button mat-button (click)="clearAll()" [disabled]="selectedMemberIds.length === 0">
        Clear All
      </button>
      <button mat-button (click)="cancel()">Cancel</button>
      <button mat-raised-button color="primary" (click)="confirm()" [disabled]="selectedMemberIds.length === 0">
        Add {{ selectedMemberIds.length }} Members
      </button>
    </div>
  </mat-dialog-actions>
</div>