<div class="register-container">
  <h1>Create an Account</h1>

  <div class="universal-auth-options">
    <button mat-raised-button color="primary" class="ms-signup-btn" (click)="signUpWithMicrosoft()" [disabled]="msalInProgress">
      <mat-icon>account_circle</mat-icon> Sign up with Microsoft
    </button>
  </div>

  <mat-divider class="divider"></mat-divider>
  <p class="divider-label">or create a local account</p>

  <div class="temp-password-notice">
    <mat-icon>info</mat-icon>
    <span>
      All new accounts are assigned the <strong>User</strong> role and a temporary password
      provided by your administrator. You will be required to change it on first login.
    </span>
  </div>

  <form [formGroup]="registerForm" (ngSubmit)="submit()">

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Full Name</mat-label>
      <input matInput formControlName="name" autocomplete="name" />
      <mat-error *ngIf="registerForm.get('name')?.hasError('required')">Name is required</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" type="email" autocomplete="email" />
      <mat-error *ngIf="registerForm.get('email')?.hasError('required')">Email is required</mat-error>
      <mat-error *ngIf="registerForm.get('email')?.hasError('email')">Invalid email</mat-error>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit"
            class="full-width" [disabled]="registerForm.invalid || submitting">
      {{ submitting ? 'Creating accountâ€¦' : 'Create Account' }}
    </button>
  </form>

  <p class="login-link">Already have an account? <a routerLink="/">Sign in</a></p>
</div>
