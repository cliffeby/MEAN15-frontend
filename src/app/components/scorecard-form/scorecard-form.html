<div class="scorecard-form-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        <mat-icon>sports_golf</mat-icon>
        {{ isEditMode ? 'Edit Scorecard' : 'Add New Scorecard' }}
      </mat-card-title>
      <mat-card-subtitle>
        {{ isEditMode ? 'Update golf course information' : 'Enter golf course details' }}
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="scorecardForm" (ngSubmit)="onSubmit()">

        <!-- Course Information Section -->
        <div class="form-section">
          <h3>Course Information</h3>
          <mat-divider></mat-divider>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Course Name</mat-label>
            <input matInput formControlName="course" placeholder="e.g. Country Club">
            <mat-icon matSuffix>business</mat-icon>
            <mat-error *ngIf="scorecardForm.get('course')?.hasError('required')">
              Course name is required
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="half-width">
            <mat-label>Tees</mat-label>
            <input matInput formControlName="tees" placeholder="e.g. Gold, Blue, White, I, II, III">
            <mat-icon matSuffix>golf_course</mat-icon>
            <mat-error *ngIf="scorecardForm.get('tees')?.hasError('required')">
              Tee name is required
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="half-width">
            <mat-label>Tee Abbreviation</mat-label>
            <input matInput formControlName="teeAbreviation" placeholder="e.g. G, B, W, WS, I/II">
            <mat-icon matSuffix>golf_course</mat-icon>
          </mat-form-field>

          <div class="form-row">
            <mat-form-field appearance="outline" class="half-width">
              <mat-label>Course Rating</mat-label>
              <input matInput type="number" step="0.1" formControlName="rating" placeholder="e.g. 72.5">
              <mat-icon matSuffix>star</mat-icon>
              <mat-hint>Typically between 50-85</mat-hint>
            </mat-form-field>

            <mat-form-field appearance="outline" class="half-width">
              <mat-label>Slope Rating</mat-label>
              <input matInput type="number" formControlName="slope" placeholder="e.g. 125">
              <mat-icon matSuffix>trending_up</mat-icon>
              <mat-hint>Typically between 55-155</mat-hint>
            </mat-form-field>
          </div>

          <div class="form-row">
            <mat-form-field appearance="outline" class="half-width">
              <mat-label>Total Par</mat-label>
              <input matInput type="number" formControlName="par" placeholder="e.g. 72">
              <mat-icon matSuffix>flag</mat-icon>
              <mat-hint>Total par for the course</mat-hint>
            </mat-form-field>
          </div>
        </div>

        <!-- Hole Details Section -->
        <div class="form-section">
          <h3>Hole Details (Optional)</h3>
          <mat-divider></mat-divider>
          <p class="section-description">Enter comma-separated values for each hole (e.g., 4,3,5,4...)</p>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Par Values</mat-label>
            <input matInput formControlName="parInputString" placeholder="e.g. 4,3,5,4,4,3,5,4,4,3,4,5,4,3,5,4,4,4">
            <mat-icon matSuffix>format_list_numbered</mat-icon>
            <mat-hint>Par for each hole, separated by commas</mat-hint>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Handicap Values</mat-label>
            <input matInput formControlName="hCapInputString"
              placeholder="e.g. 1,17,3,9,11,15,5,7,13,2,10,6,14,18,4,8,12,16">
            <mat-icon matSuffix>assessment</mat-icon>
            <mat-hint>Handicap ranking for each hole (1-18)</mat-hint>
          </mat-form-field>

          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Yardage Values</mat-label>
            <input matInput formControlName="yardsInputString"
              placeholder="e.g. 380,150,520,400,350,160,480,380,420,190,410,540,300,140,500,390,370,450">
            <mat-icon matSuffix>straighten</mat-icon>
            <mat-hint>Distance in yards for each hole</mat-hint>
          </mat-form-field>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
          <button mat-raised-button color="primary" type="submit"
            [disabled]="!scorecardForm.valid || (loading$ | async)">
            <mat-icon>{{ isEditMode ? 'save' : 'add' }}</mat-icon>
            {{ (loading$ | async) ? 'Saving...' : (isEditMode ? 'Update Scorecard' : 'Create Scorecard') }}
          </button>

          <button mat-stroked-button type="button" (click)="onCancel()" [disabled]="loading$ | async">
            <mat-icon>cancel</mat-icon>
            Cancel
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>